stages:
  - build

build:golang:1.21:
  stage: build
  image: golang:1.21
  variables:
    CGO_ENABLED: 0
  script:
    - make
    - ls -lh _build/bin
  artifacts:
    name: "${CI_JOB_NAME}"
    paths:
      - _build/bin

build:golang:1.21-alpine3.18:
  stage: build
  image: golang:1.21-alpine3.18
  variables:
    CGO_ENABLED: 0
  script:
    - apk --no-cache add make
    - apk --no-cache add git
    - apk --no-cache add bash
    - make
    - ls -lh _build/bin
  artifacts:
    name: "${CI_JOB_NAME}"
    paths:
      - _build/bin
